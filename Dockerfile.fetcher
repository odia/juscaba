FROM golang:1.17

WORKDIR /go/src/app

COPY fetcher/go.mod fetcher/go.sum ./
COPY ./shared /go/src/shared
RUN go mod download

COPY ./fetcher .

RUN go get -d -v ./...
RUN go install -v ./...

CMD ["fetcher"]
