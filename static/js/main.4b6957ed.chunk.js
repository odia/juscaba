(this.webpackJsonpweb2=this.webpackJsonpweb2||[]).push([[0],{14:function(e,t,c){},16:function(e,t,c){},17:function(e,t,c){},19:function(e,t,c){},20:function(e,t,c){},24:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),a=c(6),r=c.n(a),s=(c(14),c(2)),u=c(5),o=c.n(u),j=c(7),d=c(3),f=c.p+"static/media/system-search-symbolic.2e215c42.svg",l=(c(16),c(17),c(0));var b=function(e){return Object(l.jsx)("div",{className:"box",id:e.id,children:e.children})};c(19);var h=function(e){return Object(l.jsx)(b,{id:e.title,children:Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(l.jsxs)("fieldset",{children:[e.title&&Object(l.jsx)("legend",{children:e.title}),e.children]})})})},O=(c(20),function(e){return Object(l.jsx)("a",Object(s.a)(Object(s.a)({className:"button ".concat(e.selected?"selected":null)},e),{},{children:e.children}))}),x=c(8),p=c.n(x);var v=function(e){return Object(l.jsx)(b,{children:Object(l.jsxs)("div",{children:[e.nombre,Object(l.jsx)(O,{href:"http://srfp-documentos.odia.legal/"+p()(e.URL)+".pdf",children:"ver"})]})})};var m=function(e){return Object(l.jsx)(h,{title:e.titulo,children:e.documentos.map((function(e){return Object(l.jsx)(v,Object(s.a)({},e),e.URL)}))})},g=c(9);function S(e){var t=Object(n.useState)(),c=Object(d.a)(t,2),i=c[0],a=c[1],r=Object(n.useState)(),u=Object(d.a)(r,2),o=u[0],j=u[1],f=Object(n.useState)(),b=Object(d.a)(f,2),h=b[0],O=b[1],x=Object(n.useState)(),p=Object(d.a)(x,2),v=p[0],m=p[1];return Object(n.useEffect)((function(){j(void 0),a(void 0),fetch("".concat("","/data/").concat(e.file,".json")).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){j(e.toString())}))}),[e]),Object(n.useEffect)((function(){O(void 0),fetch("".concat("","/data/").concat(e.file,"-index.json")).then((function(e){return e.text()})).then((function(e){var t=g.a.loadJSON(e,{fields:["content","URL"],storeFields:["content","URL","ExpId"],idField:"numeroDeExpediente"});m(t)})).catch((function(e){O(e.toString())}))}),[e]),o||h?Object(l.jsx)("h2",{children:o||h}):i&&v?Object(l.jsx)(E,Object(s.a)(Object(s.a)({},i),{},{search:e.search,minisearch:v})):Object(l.jsx)("p",{children:"loading ..."})}function E(e){var t=Object(n.useState)([]),c=Object(d.a)(t,2),i=c[0],a=c[1];return Object(n.useEffect)((function(){if(e.search){var t=e.minisearch.search(e.search),c=t.map((function(e){return e.actId})),n=t.map((function(e){return e.URL}));a(e.Actuaciones.filter((function(e){return c.includes(e.actId)})).map((function(e){return Object(s.a)(Object(s.a)({},e),{},{documentos:e.documentos.filter((function(e){return n.includes(e.URL)}))})})))}else a(e.Actuaciones)}),[e]),Object(l.jsx)(h,{title:e.caratula,children:i.map((function(e,t){return Object(l.jsx)(m,Object(s.a)({},e),t)}))})}var L=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],i=t[1],a=Object(n.useState)([]),r=Object(d.a)(a,2),u=r[0],x=r[1],p=Object(n.useState)(),v=Object(d.a)(p,2),m=v[0],g=v[1];return Object(n.useEffect)((function(){Object(j.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/data/expedientes.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,x(c);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){1===u.length&&g(u[0])}),[u]),Object(n.useEffect)((function(){u.length&&u.forEach((function(e){fetch("".concat("","/data/").concat(e.file,".json")),fetch("".concat("","/data/").concat(e.file,"-index.json"))}))}),[u]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(b,{id:"title",children:Object(l.jsx)("h1",{children:"Buscador de Actuaciones de O.D.I.A."})}),Object(l.jsxs)(h,{title:"expedientes",children:[u.length?u.map((function(e,t){var c=e.id;return Object(l.jsx)(O,{onClick:function(e){return g(u[t])},selected:m===u[t],children:c},t)})):Object(l.jsx)("p",{children:"loading..."}),void 0!==m&&Object(l.jsx)(S,Object(s.a)(Object(s.a)({},m),{},{search:c}))]}),Object(l.jsxs)("div",{title:"buscar",children:[Object(l.jsx)("input",{type:"search",id:"search-input",name:"search",onChange:function(e){e.preventDefault(),i(e.target.value)},value:c,placeholder:"buscar..."}),Object(l.jsx)("img",{src:f,alt:""}),c]})]})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,25)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),a(e),r(e)}))};r.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(L,{})}),document.getElementById("root")),w()}},[[24,1,2]]]);
//# sourceMappingURL=main.4b6957ed.chunk.js.map